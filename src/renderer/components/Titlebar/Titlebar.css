.titlebar {
  height: var(--titlebar-height, 2.25rem);
  background: #f6f4ee;
  border-bottom: 1px solid rgba(15, 26, 43, 0.08);
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  align-items: center;
  padding: 0 0.75rem;
  gap: 0.75rem;
  -webkit-app-region: drag;
}

.titlebar--darwin {
  --titlebar-side-width: 5.5rem;
}

@supports (height: env(titlebar-area-height)) {
  .titlebar {
    --titlebar-height: env(titlebar-area-height, 2.25rem);
  }
}

.titlebar button {
  all: unset;
  -webkit-app-region: no-drag;
  cursor: pointer;
  display: grid;
  place-items: center;
}

.titlebar button:focus-visible {
  outline: 2px solid #f59e0b;
  outline-offset: 2px;
}

.titlebar__left,
.titlebar__center,
.titlebar__right {
  display: flex;
  align-items: center;
  height: 100%;
}

.titlebar--darwin .titlebar__left,
.titlebar--darwin .titlebar__right {
  min-width: var(--titlebar-side-width);
}

.titlebar__left {
  justify-content: flex-start;
  min-width: 0;
}

.titlebar__right {
  justify-content: flex-end;
}

.titlebar__center {
  justify-content: center;
  font-weight: 600;
  letter-spacing: 0.02em;
  color: rgba(15, 26, 43, 0.85);
  min-width: 0;
}

.titlebar__title {
  font-weight: 600;
  letter-spacing: 0.02em;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.titlebar__controls {
  display: flex;
  align-items: center;
  gap: 0.625rem;
  -webkit-app-region: no-drag;
}

.titlebar__controls--mac {
  gap: 0.5rem;
}

.titlebar__mac-button {
  width: 1.5rem;
  height: 1.5rem;
  border-radius: 999px;
  position: relative;
  --mac-button-color: #ff5f57;
}

.titlebar__mac-button::before {
  content: '';
  width: 0.75rem;
  height: 0.75rem;
  border-radius: 999px;
  background: var(--mac-button-color);
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.08);
  align-self: center;
  justify-self: center;
}

.titlebar__mac-button--close {
  --mac-button-color: #ff5f57;
}

.titlebar__mac-button--minimize {
  --mac-button-color: #febc2e;
}

.titlebar__mac-button--maximize {
  --mac-button-color: #28c840;
}

.titlebar__controls--windows {
  gap: 0.375rem;
}

.titlebar__button {
  width: 2.25rem;
  height: 1.75rem;
  border-radius: 0.375rem;
  color: #0f1a2b;
}

.titlebar__button:hover {
  background: rgba(15, 26, 43, 0.08);
}

.titlebar__button--close:hover {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
}

.titlebar__icon {
  width: 0.625rem;
  height: 0.625rem;
  stroke: currentColor;
  stroke-width: 1.4;
  fill: none;
  stroke-linecap: round;
  stroke-linejoin: round;
}

.titlebar__button--maximize .titlebar__icon {
  stroke-width: 1.1;
}

.titlebar__spacer {
  flex: 1;
}
